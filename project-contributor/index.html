---
layout: "contribution"
title: Project Contributor
---

<div class="paragraph">About becoming a project-contributor</div>

<p>
    Are you considering to become a project-contributor? <code class="prettyprint">We're happy you do!</code> Being a project-contributor means you contibute more often and to more repositories of <code class="prettyprint">ITSA-modules</code>. You are basicly involved with the <a href="https://github.com/itsa" target="_blank">whole project</a>. This could be the separate modules, <a href="https://github.com/itsa/itsa.github.io" target="_blank">this website</a> or the <a href="https://github.com/itsa/itsa.contributor" target="_blank">main projectrepository</a> that controls how to manages them all.
</p>
<p>
    Anyone can become a projectcontributor, though we expect you to have a high level of programming skill, being a good teamplayer. Being a projectcontributor doesn't give you rights to make your changes go through to the project. The projectmanagers will always decide whether the code is accepted and conforms the goals of ITSA modules.
</p>

{% include licence-agreement.html %}

<div class="paragraph">How to get started</div>

<p>
    In order to manage the whole project, you need to download it all to your computer. This provides you several tools, which you can run locally, that makes it easy to manage and preview your changes. However, you cannot just download it all into one directory. There is a specific structure by which the documentation and api fall in the right place automaticly.
</p>
<p>
    Before you follow the required installation-steps (explained below), you need to understand this treestructure, where the 3 <code class="prettyprint">itsa.modulename</code> repositories have special meaning (more about that later):<br>
    <table>
        <tbody>
            <tr><td colspan="4" class="border">"Projectroot"</td><td class="special">&lt;&mdash;itsa.contributor</td></tr>
            <tr><td></td><td class="left-border"></td><td colspan="3"></td></tr>
            <tr><td></td><td class="left-border">&mdash;&mdash;&mdash;</td><td colspan="2" class="border">site</td><td class="special">&lt;&mdash;itsa.github.io</td></tr>
            <tr><td></td><td class="left-border"></td><td colspan="3"></td></tr>
            <tr><td></td><td class="left-border">&mdash;&mdash;&mdash;</td><td colspan="2" class="border">src</td><td></td></tr>
            <tr><td colspan="3"></td><td colspan="2" class="left-border"></td></tr>
            <tr><td></td><td></td><td></td><td class="left-border">&mdash;&mdash;&mdash;</td><td class="border special">itsa.build</td></tr>
            <tr><td colspan="3"></td><td colspan="2" class="left-border"></td></tr>
            <tr><td></td><td></td><td></td><td class="left-border">&mdash;&mdash;&mdash;</td><td class="border module">event</td></tr>
            <tr><td colspan="3"></td><td colspan="2" class="left-border"></td></tr>
            <tr><td></td><td></td><td></td><td class="left-border">&mdash;&mdash;&mdash;</td><td class="border module">io</td></tr>
            <tr><td colspan="3"></td><td colspan="2" class="left-border"></td></tr>
            <tr><td></td><td></td><td></td><td class="left-border">&mdash;&mdash;&mdash;</td><td class="border module">utils</td></tr>
        </tbody>
    </table>
</p>

<h1>Installation-steps</h1>
<p>
    We created installationsteps based on a linux or Mac system. Sorry if you have a Windows computer: in the future we will change all routines to run using Gulp.
</p>
<h2>Step 1:</h2>
<p>
    Fork and clone <code class="prettyprint">itsa.contributor</code> to <code class="prettyprint">"Projectroot"</code>, which may be any directory-name of your choice. We advice you to call the directory <code class="prettyprint">itsa.contributor</code>. This repository is special: it is the startpoint to manage the project.
</p>

<h2>Step 2:</h2>
<p>
    From within this directory, run <code class="prettyprint">npm install</code>. This will get all the packages required to do your local development.
</p>

<h2>Step 3:</h2>
<p>
    Goto the directory <code class="prettyprint">./sh</code> and run: <code class="prettyprint">sh initialsetup.sh</code> which will create some symlinks you need to have for local testing. It also creates the directory <code class="prettyprint">"Projectroot"/src</code> which is the place to clone all ITSA's module-repositories (see next step).
</p>

<h2>Step 4:</h2>
<p>
    Fork and clone all ITSA's repositories except <code class="prettyprint">itsa.contributor</code> and <code class="prettyprint">itsa.github.io</code>. You must clone the repositories to <code class="prettyprint">"Projectroot"/src/modulename</code> where the directoryname equals the repository/modulename.
</p>

<h2>Step 5:</h2>

<p>If you don't have them yet, install browserify, cssify and uglifyjs on your system globally:

{% highlight js %}
npm install -g browserify
npm install -g cssify
npm install -g uglify-js
{% endhighlight %}

By installing it globally, their the command-line commands are available, which will be needed later on when creating the loaderfiles. `cssify` is also automaticly installed locally, for it needs to be there as well.

<h2>Step 6:</h2>
<p>
    Because you also need the website (either for contribution, or to be able to preview documentation), you need to fork and clone <code class="prettyprint">itsa.github.io</code> to <code class="prettyprint">"Projectroot"/site</code>. You <u>must use</u> the directoryname <code class="prettyprint">site</code>, otherwise local rendering will fail.
</p>

<h2 id="step7">Step 7:</h2>
<p>
    If you want to preview the site locally (with modified API or documentation), you need to install <a href="http://jekyllrb.com/docs/home/" target="blank">Jekyll</a>. Jekyll is a static website generator, that is used by <a href="https://github.com" target="_blank">GitHub</a>. We use it to generate our documentation using <a href="http://en.wikipedia.org/wiki/Markdown" target="_blank">markdown</a>.
</p>
<p>
    From here, you need to follow these three steps:
    <ul>
        <li>You need <a href="https://www.ruby-lang.org/en/" target="blank">Ruby</a> - Jekyll requires the <code class="prettyprint">Ruby language</code>. If you have a Mac, you've most likely already got Ruby. If you open up the Terminal application, and run the command <code class="prettyprint">ruby --version</code> you can confirm this. Your Ruby version should begin with <b>1.9.3</b> or <b>2.0.0</b>. If you've got that, you're all set. Otherwise, follow <a href="https://www.ruby-lang.org/en/downloads/" target ="blank">these instructions</a> to install Ruby.</li>
        <li>You need <a href="http://bundler.io" target="_blank">Bundler</a> - Bundler is a package manager that makes versioning Ruby software like Jekyll a heck of a lot easier if you're going to be building GitHub Pages sites locally. If you don't already have Bundler installed, you can install it by running the command <code class="prettyprint">gem install bundler</code>.</li>
        <li>Now you have both Ruby and Bundler, you can install Jekyll very easy: from inside <code class="prettyprint">"Projectroot"</code> you run: <code class="prettyprint">bundle install</code></li>
    </ul>
</p>
<p>
    If you still experience troubles installing, then <a href="https://help.github.com/articles/using-jekyll-with-pages" target="_blank">look here for help</a>.
</p>
<h2>Finished!</h2>
<p>
    That was a bit of work, but it is worth it! You only need to do it once, hopefully it all went smoothless. Once installed, you can start working on the project (see below).
</p>

<div class="paragraph">How to work with the project</div>

<h2>Changes to a repository</h2>
<p>
    <ul>
        <li>Make the changes, update the module-version inside <code class="prettyprint">package.json</code></li>
        <li>Update the historyfile: <b>site/_docs/modulename/</b><code class="prettyprint">history.md</code></li>
        <li>Make sure the API is updated (when needed)</li>
        <li>Check if you include any code that might not match our targetted browsers (IE8+ and all modern browsers). If you do, then check if <code class="prettyprint">ITSA</code>'s <a href="https://github.com/ItsAsbreuk/polyfill" target="_blank">polyfill</a> has a polyfill for it. If not, then you should also add a polyfill. We think the <a href="https://github.com/Financial-Times/polyfill-service/tree/master/polyfills" target="_blank">Financial Times</a> has nice polyfills (which we use directly, not as a service)</li>
        <li>Add tests inside the folder <code class="prettyprint">tests</code>. We use <a href="http://visionmedia.github.io/mocha/" target="_blank">Mocha</a> with <a href="http://chaijs.com/api/bdd/" target="_blank">expect</a>, <a href="https://github.com/visionmedia/should.js" target="_blank">should.js</a> and <a href="http://chaijs.com/plugins/chai-as-promised" target="_blank">chai assertion as Promises</a>. Take a look at existsing test how to do this. <b>Note:</b> you <u>must prevent</u> <code class="prettyprint">param.should.be.eql(number)</code> for this fails in IE<10. Use <code class="prettyprint">expect(param).to.be.eql(number)</code> instead.</li>
        <li>Test your tests in nodejs and any browser you have available:
            <ul>
                <li>To test inside <b>nodejs</b>, you go to the directory <code class="prettyprint">"Projectroot"/src</code>. from within here, you run: <code class="prettyprint">npm test modulename</code> where "modulename" is the name of the module/repository you want to test.</li>
                <li>To test on the <b>browsers</b>, you need to setup a testserver, which is included in <code class="prettyprint">"Projectroot"/server</code>. Goto this directory and run: <code class="prettyprint">node server.js</code> --> this will launch a server at <code class="prettyprint">localhost:8000</code>. Now from within any local browser you visit: <code class="prettyprint">localhost:8000/test</code>, which should present the testpage.</li>
            </ul>
        <li>If all tests pass, you <code class="prettyprint">commit</code> the code and make a <code class="prettyprint">pull request</code>.
        <li>You also need to rebuild the distribution files</li>
    </ul>
</p>

<h2>Always update the repository <code class="prettyprint">itsa.build</code></h2>

<p>
    <ul>
        <li>Update the module-version inside <code class="prettyprint">package.json</code> of <code class="prettyprint">itsa.build</code></li>
        <li>Update the documentation: set a new version and filesize</li>
        <li>Update the historyfile: <b>site/_includes/</b><code class="prettyprint">history.html</code></li>
        <li>Rebuild the <a href="https://github.com/itsa/itsa.github.io/tree/master/dist" target="_blank">loader-files</a>: goto <code class="prettyprint">"Projectroot"/sh</code> and run: <code class="prettyprint">sh production.sh</code></li>
        <li><code class="prettyprint">Commit</code> and make a <code class="prettyprint">pull request</code> for <code class="prettyprint">itsa.build</code>.
    </ul>
</p>

<h2>Always changes to website-documentation</h2>
<p>
    After making changes, the website also needs to be changed. You always need to do this, because at the least, the version and file size of the module have changed.
</p>
<p>
    After making changes, the website also needs to be changed. To make changes to the website, you need to understand a bit about <a href="https://pages.github.com" target="_blank">github pages</a>. Our website has the repository <code class="prettyprint">itsa.github.io</code>, this makes it directly visible at <a href="http://itsa.github.io" target="_blank">http://itsa.github.io</a>, though we bound the CNAME <span class="blue">itsa.io</span> to it (which everyone visits).
</p>
<p>
    The website from the repository <code class="prettyprint">itsa.github.io</code> is not a final website you can just see in the browser. It needs to be rendered first. GitHub does this using Jekyll (as <a href-"#step7">explained above</a>). If we want to view the website locally, we need to make this rendereing process ourselves. If you managed <a href-"#step7">Step 7 above</a> successfully, you can do this now: got to <code class="prettyprint">"Projectroot"</code> and run: <code class="prettyprint">jekyll build</code> --> this will create or update the folder <code class="prettyprint">"Projectroot"/site-preview</code> which is the website how it would be on GitHub-pages. You can inspect <code class="prettyprint">"Projectroot"/site-preview/index.html</code> in the browser now.
</p>
<p>
    During modification, you will find out you want to re-render the website multiple times. Instead of doing this manually, you can run <code class="prettyprint">jekyll build --watch</code>, which will automaticly re-render on any changes.
</p>

<h3>Documentation of the repository:</h3>
<p>
    All repositories have their own directory: <code class="prettyprint">"Projectroot"/site/_docs/modulename</code> where "modulename" is the name of the module/repository. Note the underscore: jekyll will transform this into a directoryname without underscore.
</p>
<p>
    Every modulefolder has a markdown-file: <code class="prettyprint">index.md</code>. Whenever this file is present, it will appear in the <a href="http://itsa.io/modules/index.html" target="_blank">list of available modules</a>. This markdown-file should contain <a href="/" target="_blank">Front Matter</a>, with the following definitions:
    <ul class="noicon">
        <li><span class="blue">module:</span> xxxxx</li>
        <li><span class="blue">itsaclassname:</span> xxxxx</li>
        <li><span class="blue">version:</span> xxxxx</li>
        <li><span class="blue">modulesize:</span> xxxxx</li>
        <li><span class="blue">dependencies:</span> xxxxx</li>
        <li><span class="blue">maintainer:</span> xxxxx</li>
        <li><span class="blue">title:</span> xxxxx</li>
        <li><span class="blue">intro:</span> xxxxx</li>
        <li><span class="blue">firstpar:</span> xxxxx</li>
    </ul>
</p>
<p>
    Some of these are optional.
    To check the right filesize (minified an gzipped) we made a small bash-file: goto <code class="prettyprint">"Projectroot"/sh</code> and run: <code class="prettyprint">sh checksize.sh modulename</code> where "modulename" is the name of the module (or a specific filename inside its repository). This creates a temporarely minfied and gzipped file and output its size.
</p>
<p>
    To get more familiair with creating documentation-files, inspect available documentation files: see how they are set up.
</p>

<h3>Examples inside the repository:</h3>
<p>
    Any file <u>other than</u> <code class="prettyprint">index.md</code> is considered to be an example and should have the extention <code class="prettyprint">.md</code>. Whenever these files are present, they will automaticly appear below the <code class="prettyprint">TOC</code> as examples. The markdown-file should contain <a href="/" target="_blank">Front Matter</a>, with the following definitions:
    <ul class="noicon">
        <li><span class="blue">module:</span> xxxxx</li>
        <li><span class="blue">maintainer:</span> xxxxx</li>
        <li><span class="blue">title:</span> xxxxx</li>
        <li><span class="blue">intro:</span> xxxxx</li>
        <li><span class="blue">includeexample:</span> xxxxx</li>
    </ul>
    <code class="prettyprint">includeexample</code> has a special meaning: it means there is a second file present but instead of <code class="prettyprint">filename.md</code> its name is: <code class="prettyprint">filename-incl.html</code>. This is handy if you find out that your inline examples don't look right because of <code class="prettyprint">css-bleedthrough</code>: you can create a working-example that is included by an iframe. Most of the time you won't need to use this technique.
</p>

<h3>Up to date build-files for the examples inside "Projectroot"/site-preview:</h3>
<p>
    You may run into the situation where <code class="prettyprint">"Projectroot"/site-preview</code> uses the loaderfiles of the current site and hasn't updated with the changes you made at some repository. This is caused because life loaderfiles reside inside <code class="prettyprint">"Projectroot"/site</code>, which are transported to <code class="prettyprint">"Projectroot"/site=preview</code> with every <span class="blue">jekyll build</span> run. However, you can create loaderfiles of your local project: goto <code class="prettyprint">"Projectroot"/sh</code> and run: <code class="prettyprint">sh preview.sh</code>. Note that you need to do this every time after jekyll builds the website.
</p>
