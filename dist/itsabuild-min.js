require=function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e){!function(t,n,r,i){"use strict";function o(t,e,n){return setTimeout(f(t,n),e)}function s(t,e,n){return Array.isArray(t)?(a(t,n[e],n),!0):!1}function a(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function u(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===i)&&(t[r[o]]=e[r[o]]),o++;return t}function c(t,e){return u(t,e,!0)}function l(t,e,n){var r,i=e.prototype;r=t.prototype=Object.create(i),r.constructor=t,r._super=i,n&&u(r,n)}function f(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==ce?t.apply(e?e[0]||i:i,e):t}function d(t,e){return t===i?e:t}function p(t,e,n){a(b(e),function(e){t.addEventListener(e,n,!1)})}function m(t,e,n){a(b(e),function(e){t.removeEventListener(e,n,!1)})}function v(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function g(t,e){return t.indexOf(e)>-1}function b(t){return t.trim().split(/\s+/g)}function y(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function _(t){return Array.prototype.slice.call(t,0)}function w(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];y(i,s)<0&&r.push(t[o]),i[o]=s,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function T(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),s=0;s<ae.length;){if(n=ae[s],r=n?n+o:e,r in t)return r;s++}return i}function E(){return de++}function N(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function S(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&n.handler(e)},this.init()}function x(t){var e,n=t.options.inputClass;return new(e=n?n:ve?U:ge?q:me?z:L)(t,D)}function D(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&Ee&&r-i===0,s=e&(Se|xe)&&r-i===0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,A(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function A(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=j(e)),i>1&&!n.firstMultiple?n.firstMultiple=j(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,u=e.center=C(r);e.timeStamp=he(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=M(a,u),e.distance=k(a,u),I(n,e),e.offsetDirection=P(e.deltaX,e.deltaY),e.scale=s?X(s.pointers,r):1,e.rotation=s?F(s.pointers,r):0,O(n,e);var c=t.element;v(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function I(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};(e.eventType===Ee||o.eventType===Se)&&(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}function O(t,e){var n,r,o,s,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=xe&&(u>Te||a.velocity===i)){var c=a.deltaX-e.deltaX,l=a.deltaY-e.deltaY,f=R(u,c,l);r=f.x,o=f.y,n=fe(f.x)>fe(f.y)?f.x:f.y,s=P(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,s=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=s}function j(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:le(t.pointers[n].clientX),clientY:le(t.pointers[n].clientY)},n++;return{timeStamp:he(),pointers:e,center:C(e),deltaX:t.deltaX,deltaY:t.deltaY}}function C(t){var e=t.length;if(1===e)return{x:le(t[0].clientX),y:le(t[0].clientY)};for(var n=0,r=0,i=0;e>i;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:le(n/e),y:le(r/e)}}function R(t,e,n){return{x:e/t||0,y:n/t||0}}function P(t,e){return t===e?De:fe(t)>=fe(e)?t>0?Ae:Ie:e>0?Oe:je}function k(t,e,n){n||(n=ke);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function M(t,e,n){n||(n=ke);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}function F(t,e){return M(e[1],e[0],Me)-M(t[1],t[0],Me)}function X(t,e){return k(e[0],e[1],Me)/k(t[0],t[1],Me)}function L(){this.evEl=Xe,this.evWin=Le,this.allow=!0,this.pressed=!1,S.apply(this,arguments)}function U(){this.evEl=He,this.evWin=ze,S.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function q(){this.evTarget=Ye,this.targetIds={},S.apply(this,arguments)}function H(t,e){var n=_(t.touches),r=this.targetIds;if(e&(Ee|Ne)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o=_(t.targetTouches),s=_(t.changedTouches),a=[];if(e===Ee)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),e&(Se|xe)&&delete r[s[i].identifier],i++;return a.length?[w(o.concat(a),"identifier",!0),a]:void 0}function z(){S.apply(this,arguments);var t=f(this.handler,this);this.touch=new q(this.manager,t),this.mouse=new L(this.manager,t)}function $(t,e){this.manager=t,this.set(e)}function Y(t){if(g(t,Ze))return Ze;var e=g(t,Qe),n=g(t,Ke);return e&&n?Qe+" "+Ke:e||n?e?Qe:Ke:g(t,Je)?Je:Ge}function B(t){this.id=E(),this.manager=null,this.options=c(t||{},this.defaults),this.options.enable=d(this.options.enable,!0),this.state=tn,this.simultaneous={},this.requireFail=[]}function W(t){return t&sn?"cancel":t&rn?"end":t&nn?"move":t&en?"start":""}function V(t){return t==je?"down":t==Oe?"up":t==Ae?"left":t==Ie?"right":""}function G(t,e){var n=e.manager;return n?n.get(t):t}function J(){B.apply(this,arguments)}function Z(){J.apply(this,arguments),this.pX=null,this.pY=null}function Q(){J.apply(this,arguments)}function K(){B.apply(this,arguments),this._timer=null,this._input=null}function te(){J.apply(this,arguments)}function ee(){J.apply(this,arguments)}function ne(){B.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function re(t,e){return e=e||{},e.recognizers=d(e.recognizers,re.defaults.preset),new ie(t,e)}function ie(t,e){e=e||{},this.options=c(e,re.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=x(this),this.touchAction=new $(this,this.options.touchAction),oe(this,!0),a(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function oe(t,e){var n=t.element;a(t.options.cssProps,function(t,r){n.style[T(n.style,r)]=e?t:""})}function se(t,e){var r=n.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var ae=["","webkit","moz","MS","ms","o"],ue=n.createElement("div"),ce="function",le=Math.round,fe=Math.abs,he=Date.now,de=1,pe=/mobile|tablet|ip(ad|hone|od)|android/i,me="ontouchstart"in t,ve=T(t,"PointerEvent")!==i,ge=me&&pe.test(navigator.userAgent),be="touch",ye="pen",_e="mouse",we="kinect",Te=25,Ee=1,Ne=2,Se=4,xe=8,De=1,Ae=2,Ie=4,Oe=8,je=16,Ce=Ae|Ie,Re=Oe|je,Pe=Ce|Re,ke=["x","y"],Me=["clientX","clientY"];S.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(N(this.element),this.evWin,this.domHandler)}};var Fe={mousedown:Ee,mousemove:Ne,mouseup:Se},Xe="mousedown",Le="mousemove mouseup";l(L,S,{handler:function(t){var e=Fe[t.type];e&Ee&&0===t.button&&(this.pressed=!0),e&Ne&&1!==t.which&&(e=Se),this.pressed&&this.allow&&(e&Se&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:_e,srcEvent:t}))}});var Ue={pointerdown:Ee,pointermove:Ne,pointerup:Se,pointercancel:xe,pointerout:xe},qe={2:be,3:ye,4:_e,5:we},He="pointerdown",ze="pointermove pointerup pointercancel";t.MSPointerEvent&&(He="MSPointerDown",ze="MSPointerMove MSPointerUp MSPointerCancel"),l(U,S,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=Ue[r],o=qe[t.pointerType]||t.pointerType,s=o==be;i&Ee&&(0===t.button||s)?e.push(t):i&(Se|xe)&&(n=!0);var a=y(e,t.pointerId,"pointerId");0>a||(e[a]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var $e={touchstart:Ee,touchmove:Ne,touchend:Se,touchcancel:xe},Ye="touchstart touchmove touchend touchcancel";l(q,S,{handler:function(t){var e=$e[t.type],n=H.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:be,srcEvent:t})}}),l(z,S,{handler:function(t,e,n){var r=n.pointerType==be,i=n.pointerType==_e;if(r)this.mouse.allow=!1;else if(i&&!this.mouse.allow)return;e&(Se|xe)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Be=T(ue.style,"touchAction"),We=Be!==i,Ve="compute",Ge="auto",Je="manipulation",Ze="none",Qe="pan-x",Ke="pan-y";$.prototype={set:function(t){t==Ve&&(t=this.compute()),We&&(this.manager.element.style[Be]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return a(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Y(t.join(" "))},preventDefaults:function(t){if(!We){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,i=g(r,Ze),o=g(r,Ke),s=g(r,Qe);return i||o&&n&Ce||s&&n&Re?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var tn=1,en=2,nn=4,rn=8,on=rn,sn=16,an=32;B.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=G(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=G(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=G(t,this),-1===y(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=G(t,this);var e=y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(n.options.event+(e?W(r):""),t)}var n=this,r=this.state;rn>r&&e(!0),e(),r>=rn&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=an)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(an|tn)))return!1;t++}return!0},recognize:function(t){var e=u({},t);return h(this.options.enable,[this,e])?(this.state&(on|sn|an)&&(this.state=tn),this.state=this.process(e),void(this.state&(en|nn|rn|sn)&&this.tryEmit(e))):(this.reset(),void(this.state=an))},process:function(){},getTouchAction:function(){},reset:function(){}},l(J,B,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(en|nn),i=this.attrTest(t);return r&&(n&xe||!i)?e|sn:r||i?n&Se?e|rn:e&en?e|nn:en:an}}),l(Z,J,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pe},getTouchAction:function(){var t=this.options.direction,e=[];return t&Ce&&e.push(Ke),t&Re&&e.push(Qe),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,s=t.deltaY;return i&e.direction||(e.direction&Ce?(i=0===o?De:0>o?Ae:Ie,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===s?De:0>s?Oe:je,n=s!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return J.prototype.attrTest.call(this,t)&&(this.state&en||!(this.state&en)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=V(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),l(Q,J,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ze]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&en)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),l(K,B,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Ge]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(Se|xe)&&!i)this.reset();else if(t.eventType&Ee)this.reset(),this._timer=o(function(){this.state=on,this.tryEmit()},e.time,this);else if(t.eventType&Se)return on;return an},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===on&&(t&&t.eventType&Se?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=he(),this.manager.emit(this.options.event,this._input)))}}),l(te,J,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ze]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&en)}}),l(ee,J,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Ce|Re,pointers:1},getTouchAction:function(){return Z.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Ce|Re)?e=t.velocity:n&Ce?e=t.velocityX:n&Re&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&fe(e)>this.options.velocity&&t.eventType&Se},emit:function(t){var e=V(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),l(ne,B,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[Je]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&Ee&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=Se)return this.failTimeout();var s=this.pTime?t.timeStamp-this.pTime<e.interval:!0,a=!this.pCenter||k(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;var u=this.count%e.taps;if(0===u)return this.hasRequireFailures()?(this._timer=o(function(){this.state=on,this.tryEmit()},e.interval,this),en):on}return an},failTimeout:function(){return this._timer=o(function(){this.state=an},this.options.interval,this),an},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==on&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),re.VERSION="2.0.3",re.defaults={domEvents:!1,touchAction:Ve,enable:!0,inputTarget:null,inputClass:null,preset:[[te,{enable:!1}],[Q,{enable:!1},["rotate"]],[ee,{direction:Ce}],[Z,{direction:Ce},["swipe"]],[ne],[ne,{event:"doubletap",taps:2},["tap"]],[K]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var un=1,cn=2;ie.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?cn:un},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&on)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],e.stopped===cn||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(en|nn|rn)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof B)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(y(e,t),1),this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return a(b(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return a(b(t),function(t){e?n[t].splice(y(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&se(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&oe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(re,{INPUT_START:Ee,INPUT_MOVE:Ne,INPUT_END:Se,INPUT_CANCEL:xe,STATE_POSSIBLE:tn,STATE_BEGAN:en,STATE_CHANGED:nn,STATE_ENDED:rn,STATE_RECOGNIZED:on,STATE_CANCELLED:sn,STATE_FAILED:an,DIRECTION_NONE:De,DIRECTION_LEFT:Ae,DIRECTION_RIGHT:Ie,DIRECTION_UP:Oe,DIRECTION_DOWN:je,DIRECTION_HORIZONTAL:Ce,DIRECTION_VERTICAL:Re,DIRECTION_ALL:Pe,Manager:ie,Input:S,TouchAction:$,TouchInput:q,MouseInput:L,PointerEventInput:U,TouchMouseInput:z,Recognizer:B,AttrRecognizer:J,Tap:ne,Pan:Z,Swipe:ee,Pinch:Q,Rotate:te,Press:K,on:p,off:m,each:a,merge:c,extend:u,inherit:l,bindFn:f,prefixed:T}),typeof define==ce&&define.amd?define(function(){return re}):"undefined"!=typeof e&&e.exports?e.exports=re:t[r]=re}(window,document,"Hammer")},{}],2:[function(t,e,n){function r(t){this.options=t||{locator:{}}}function i(t,e,n){function r(e){var r=t[e];if(!r)if(s)r=2==t.length?function(n){t(e,n)}:t;else for(var o=arguments.length;--o&&!(r=t[arguments[o]]););i[e]=r&&function(t){r(t+a(n))}||function(){}}if(!t){if(e instanceof o)return e;t=e}var i={},s=t instanceof Function;return n=n||{},r("warning","warn"),r("error","warn","warning"),r("fatalError","warn","warning","error"),i}function o(){this.cdata=!1}function s(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function a(t){return t?"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]":void 0}function u(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function c(t,e){t.currentElement?t.currentElement.appendChild(e):t.document.appendChild(e)}if(r.prototype.parseFromString=function(t,e){var n=this.options,r=new l,s=n.domBuilder||new o,a=n.errorHandler,u=n.locator,c=n.xmlns||{},f={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&s.setDocumentLocator(u),r.errorHandler=i(a,s,u),r.domBuilder=n.domBuilder||s,/\/x?html?$/.test(e)&&(f.nbsp=" ",f.copy="©",c[""]="http://www.w3.org/1999/xhtml"),t?r.parse(t,c,f):r.errorHandler.error("invalid document source"),s.document},o.prototype={startDocument:function(){this.document=(new f).createDocument(null,null,null),this.locator&&(this.document.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var i=this.document,o=i.createElementNS(t,n||e),a=r.length;c(this,o),this.currentElement=o,this.locator&&s(this.locator,o);for(var u=0;a>u;u++){var t=r.getURI(u),l=r.getValue(u),n=r.getQName(u),f=i.createAttributeNS(t,n);f.getOffset&&s(f.getOffset(1),f),f.value=f.nodeValue=l,o.setAttributeNode(f)}},endElement:function(){{var t=this.currentElement;t.tagName}this.currentElement=t.parentNode},startPrefixMapping:function(){},endPrefixMapping:function(){},processingInstruction:function(t,e){var n=this.document.createProcessingInstruction(t,e);this.locator&&s(this.locator,n),c(this,n)},ignorableWhitespace:function(){},characters:function(t){if(t=u.apply(this,arguments),this.currentElement&&t){if(this.cdata){var e=this.document.createCDATASection(t);this.currentElement.appendChild(e)}else{var e=this.document.createTextNode(t);this.currentElement.appendChild(e)}this.locator&&s(this.locator,e)}},skippedEntity:function(){},endDocument:function(){this.document.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t){t=u.apply(this,arguments);var e=this.document.createComment(t);this.locator&&s(this.locator,e),c(this,e)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.document.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(t,e,n);this.locator&&s(this.locator,i),c(this,i)}},warning:function(t){},error:function(t){},fatalError:function(t){throw t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){o.prototype[t]=function(){return null}}),"function"==typeof t){var l=t("./sax").XMLReader,f=n.DOMImplementation=t("./dom").DOMImplementation;n.XMLSerializer=t("./dom").XMLSerializer,n.DOMParser=r}},{"./dom":3,"./sax":4}],3:[function(t,e,n){function r(t,e){for(var n in t)e[n]=t[n]}function i(t,e){function n(){}var i=t.prototype;if(Object.create){var o=Object.create(e.prototype);i.__proto__=o}i instanceof e||(n.prototype=e.prototype,n=new n,r(i,n),t.prototype=i=n),i.constructor!=t&&(i.constructor=t)}function o(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,re[t]),this.message=re[t],Error.captureStackTrace&&Error.captureStackTrace(this,o);return n.code=t,e&&(this.message=this.message+": "+e),n}function s(){}function a(t,e){this._node=t,this._refresh=e,u(this)}function u(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);U(t,"length",n.length),r(n,t),t._inc=e}}function c(){}function l(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function f(t,e,n,r){if(r?e[l(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var i=t.ownerDocument;i&&(r&&y(i,t,r),b(i,t,n))}}function h(t,e,n){var r=l(e,n);if(!(r>=0))throw o(ie,new Error);for(var i=e.length-1;i>r;)e[r]=e[++r];if(e.length=i,t){var s=t.ownerDocument;s&&(y(s,t,n),n.ownerElement=null)}}function d(t){if(this._features={},t)for(var e in t)this._features=t[e]}function p(){}function m(t){return"<"==t&&"&lt;"||">"==t&&"&gt;"||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function v(t,e){if(e(t))return!0;if(t=t.firstChild)do if(v(t,e))return!0;while(t=t.nextSibling)}function g(){}function b(t,e,n){t&&t._inc++;var r=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==r&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function y(t,e,n){t&&t._inc++;var r=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==r&&delete e._nsMap[n.prefix?n.localName:""]}function _(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var i=e.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o}}}function w(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,_(t.ownerDocument,t),e}function T(t,e,n){var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===te){var i=e.firstChild;if(null==i)return e;var o=e.lastChild}else i=o=e;var s=n?n.previousSibling:t.lastChild;i.previousSibling=s,o.nextSibling=n,s?s.nextSibling=i:t.firstChild=i,null==n?t.lastChild=o:n.previousSibling=o;do i.parentNode=t;while(i!==o&&(i=i.nextSibling));return _(t.ownerDocument||t,t),e.nodeType==te&&(e.firstChild=e.lastChild=null),e}function E(t,e){var n=e.parentNode;if(n){var r=t.lastChild;n.removeChild(e);var r=t.lastChild}var r=t.lastChild;return e.parentNode=t,e.previousSibling=r,e.nextSibling=null,r?r.nextSibling=e:t.firstChild=e,t.lastChild=e,_(t.ownerDocument,t,e),e}function N(){this._nsMap={}}function S(){}function x(){}function D(){}function A(){}function I(){}function O(){}function j(){}function C(){}function R(){}function P(){}function k(){}function M(){}function F(t,e){switch(t.nodeType){case $:var n=t.attributes,r=n.length,i=t.firstChild,o=t.tagName,s=H===t.namespaceURI;e.push("<",o);for(var a=0;r>a;a++)F(n.item(a),e,s);if(i||s&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),s&&/^script$/i.test(o))i&&e.push(i.data);else for(;i;)F(i,e),i=i.nextSibling;e.push("</",o,">")}else e.push("/>");return;case Q:case te:for(var i=t.firstChild;i;)F(i,e),i=i.nextSibling;return;case Y:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,m),'"');case B:return e.push(t.data.replace(/[<&]/g,m));case W:return e.push("<![CDATA[",t.data,"]]>");case Z:return e.push("<!--",t.data,"-->");case K:var u=t.publicId,c=t.systemId;if(e.push("<!DOCTYPE ",t.name),u)e.push(' PUBLIC "',u),c&&"."!=c&&e.push('" "',c),e.push('">');else if(c&&"."!=c)e.push(' SYSTEM "',c,'">');else{var l=t.internalSubset;l&&e.push(" [",l,"]"),e.push(">")}return;case J:return e.push("<?",t.target," ",t.data,"?>");case V:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function X(t,e,n){var r;switch(e.nodeType){case $:r=e.cloneNode(!1),r.ownerDocument=t;case te:break;case Y:n=!0}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,n)for(var i=e.firstChild;i;)r.appendChild(X(t,i,n)),i=i.nextSibling;return r}function L(t,e,n){var r=new e.constructor;for(var i in e){var o=e[i];"object"!=typeof o&&o!=r[i]&&(r[i]=o)}switch(e.childNodes&&(r.childNodes=new s),r.ownerDocument=t,r.nodeType){case $:var a=e.attributes,u=r.attributes=new c,l=a.length;u._ownerElement=r;for(var f=0;l>f;f++)r.setAttributeNode(L(t,a.item(f),!0));break;case Y:n=!0}if(n)for(var h=e.firstChild;h;)r.appendChild(L(t,h,n)),h=h.nextSibling;return r}function U(t,e,n){t[e]=n}function q(t){switch(t.nodeType){case 1:case 11:var e=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&e.push(q(t)),t=t.nextSibling;return e.join("");default:return t.nodeValue}}{var H="http://www.w3.org/1999/xhtml",z={},$=z.ELEMENT_NODE=1,Y=z.ATTRIBUTE_NODE=2,B=z.TEXT_NODE=3,W=z.CDATA_SECTION_NODE=4,V=z.ENTITY_REFERENCE_NODE=5,G=z.ENTITY_NODE=6,J=z.PROCESSING_INSTRUCTION_NODE=7,Z=z.COMMENT_NODE=8,Q=z.DOCUMENT_NODE=9,K=z.DOCUMENT_TYPE_NODE=10,te=z.DOCUMENT_FRAGMENT_NODE=11,ee=z.NOTATION_NODE=12,ne={},re={},ie=(ne.INDEX_SIZE_ERR=(re[1]="Index size error",1),ne.DOMSTRING_SIZE_ERR=(re[2]="DOMString size error",2),ne.HIERARCHY_REQUEST_ERR=(re[3]="Hierarchy request error",3),ne.WRONG_DOCUMENT_ERR=(re[4]="Wrong document",4),ne.INVALID_CHARACTER_ERR=(re[5]="Invalid character",5),ne.NO_DATA_ALLOWED_ERR=(re[6]="No data allowed",6),ne.NO_MODIFICATION_ALLOWED_ERR=(re[7]="No modification allowed",7),ne.NOT_FOUND_ERR=(re[8]="Not found",8)),oe=(ne.NOT_SUPPORTED_ERR=(re[9]="Not supported",9),ne.INUSE_ATTRIBUTE_ERR=(re[10]="Attribute in use",10));ne.INVALID_STATE_ERR=(re[11]="Invalid state",11),ne.SYNTAX_ERR=(re[12]="Syntax error",12),ne.INVALID_MODIFICATION_ERR=(re[13]="Invalid modification",13),ne.NAMESPACE_ERR=(re[14]="Invalid namespace",14),ne.INVALID_ACCESS_ERR=(re[15]="Invalid access",15)}o.prototype=Error.prototype,r(ne,o),s.prototype={length:0,item:function(t){return this[t]||null}},a.prototype.item=function(t){return u(this),this[t]},i(a,s),c.prototype={length:0,item:s.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new o(oe);var n=this.getNamedItem(t.nodeName);return f(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement;if(n&&n!=this._ownerElement)throw new o(oe);return e=this.getNamedItemNS(t.namespaceURI,t.localName),f(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return h(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return h(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}},d.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return n&&(!e||e in n)?!0:!1},createDocument:function(t,e,n){var r=new g;if(r.doctype=n,n&&r.appendChild(n),r.implementation=this,r.childNodes=new s,e){var i=r.createElementNS(t,e);r.appendChild(i)}return r},createDocumentType:function(t,e,n){var r=new O;return r.name=t,r.nodeName=t,r.publicId=e,r.systemId=n,r}},p.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return T(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return w(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return L(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==B&&t.nodeType==B?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n)for(var r in n)if(n[r]==t)return r;e=2==e.nodeType?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=2==e.nodeType?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return null==e}},r(z,p),r(z,p.prototype),g.prototype={nodeName:"#document",nodeType:Q,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==te){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return null==this.documentElement&&1==t.nodeType&&(this.documentElement=t),T(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),w(this,t)},importNode:function(t,e){return X(this,t,e)},getElementById:function(t){var e=null;return v(this.documentElement,function(n){return 1==n.nodeType&&n.getAttribute("id")==t?(e=n,!0):void 0}),e},createElement:function(t){var e=new N;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new s;var n=e.attributes=new c;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new P;return t.ownerDocument=this,t.childNodes=new s,t},createTextNode:function(t){var e=new D;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new A;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new I;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new k;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new S;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new R;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new N,r=e.split(":"),i=n.attributes=new c;return n.childNodes=new s,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,i._ownerElement=n,n},createAttributeNS:function(t,e){var n=new S,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}},i(g,p),N.prototype={nodeType:$,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)
},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===te?this.insertBefore(t,null):E(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new a(this,function(e){var n=[];return v(e,function(r){r===e||r.nodeType!=$||"*"!==t&&r.tagName!=t||n.push(r)}),n})},getElementsByTagNameNS:function(t,e){return new a(this,function(n){var r=[];return v(n,function(i){i===n||i.nodeType!==$||i.namespaceURI!==t||"*"!==e&&i.localName!=e||r.push(i)}),r})}},g.prototype.getElementsByTagName=N.prototype.getElementsByTagName,g.prototype.getElementsByTagNameNS=N.prototype.getElementsByTagNameNS,i(N,p),S.prototype.nodeType=Y,i(S,p),x.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(){throw new Error(re[3])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var r=this.data.substring(0,t),i=this.data.substring(t+e);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}},i(x,p),D.prototype={nodeName:"#text",nodeType:B,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},i(D,x),A.prototype={nodeName:"#comment",nodeType:Z},i(A,x),I.prototype={nodeName:"#cdata-section",nodeType:W},i(I,x),O.prototype.nodeType=K,i(O,p),j.prototype.nodeType=ee,i(j,p),C.prototype.nodeType=G,i(C,p),R.prototype.nodeType=V,i(R,p),P.prototype.nodeName="#document-fragment",P.prototype.nodeType=te,i(P,p),k.prototype.nodeType=J,i(k,p),M.prototype.serializeToString=function(t){var e=[];return F(t,e),e.join("")},p.prototype.toString=function(){return M.prototype.serializeToString(this)};try{Object.defineProperty&&(Object.defineProperty(a.prototype,"length",{get:function(){return u(this),this.$$length}}),Object.defineProperty(p.prototype,"textContent",{get:function(){return q(this)},set:function(t){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=value,this.nodeValue=t}}}),U=function(t,e,n){t["$$"+e]=n})}catch(se){}"function"==typeof t&&(n.DOMImplementation=d,n.XMLSerializer=M)},{}],4:[function(t,e,n){function r(){}function i(t,e,n,r,i){function l(t){if(t>65535){t-=65536;var e=55296+(t>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}function p(t){var e=t.slice(1,-1);return e in n?n[e]:"#"===e.charAt(0)?l(parseInt(e.substr(1).replace("x","0x"))):(i.error("entity not found:"+t),t)}function m(e){var n=t.substring(E,e).replace(/&#?\w+;/g,p);_&&v(E),r.characters(n,0,e-E),E=e}function v(e,n){for(;e>=b&&(n=y.exec(t));)g=n.index,b=g+n[0].length,_.lineNumber++;_.columnNumber=e-g+1}for(var g=0,b=0,y=/.+(?:\r\n?|\n)|.*$/g,_=r.locator,w=[{currentNSMap:e}],T={},E=0;;){var N=t.indexOf("<",E);if(0>N){if(!t.substr(E).match(/^\s*$/)){var S=r.document,x=S.createTextNode(t.substr(E));S.appendChild(x),r.currentElement=x}return}switch(N>E&&m(N),t.charAt(N+1)){case"/":var D=t.indexOf(">",N+3),A=t.substring(N+2,D),I=w.pop(),O=I.localNSMap;if(I.tagName!=A&&i.fatalError("end tag name: "+A+" is not match the current start tagName:"+I.tagName),r.endElement(I.uri,I.localName,A),O)for(var j in O)r.endPrefixMapping(j);D++;break;case"?":_&&v(N),D=h(t,N,r);break;case"!":_&&v(N),D=f(t,N,r,i);break;default:try{_&&v(N);var C=new d,D=s(t,N,C,p,i),R=C.length;if(R&&_){for(var P=o(_,{}),N=0;R>N;N++){var k=C[N];v(k.offset),k.offset=o(_,{})}o(P,_)}!C.closed&&c(t,D,C.tagName,T)&&(C.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),a(C,r,w),"http://www.w3.org/1999/xhtml"!==C.uri||C.closed?D++:D=u(t,D,C.tagName,p,r)}catch(M){i.error("element parse error: "+M),D=-1}}0>D?m(N+1):E=D}}function o(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function s(t,e,n,r,i){for(var o,s,a=++e,u=y;;){var c=t.charAt(a);switch(c){case"=":if(u===_)o=t.slice(e,a),u=T;else{if(u!==w)throw new Error("attribute equal must after attrName");u=T}break;case"'":case'"':if(u===T){if(e=a+1,a=t.indexOf(c,e),!(a>0))throw new Error("attribute value no end '"+c+"' match");s=t.slice(e,a).replace(/&#?\w+;/g,r),n.add(o,s,e-1),u=N}else{if(u!=E)throw new Error('attribute value must after "="');s=t.slice(e,a).replace(/&#?\w+;/g,r),n.add(o,s,e),i.warning('attribute "'+o+'" missed start quot('+c+")!!"),e=a+1,u=N}break;case"/":switch(u){case y:n.setTagName(t.slice(e,a));case N:case S:case x:u=x,n.closed=!0;case E:case _:case w:break;default:throw new Error("attribute invalid close char('/')")}break;case"":i.error("unexpected end of input");case">":switch(u){case y:n.setTagName(t.slice(e,a));case N:case S:case x:break;case E:case _:s=t.slice(e,a),"/"===s.slice(-1)&&(n.closed=!0,s=s.slice(0,-1));case w:u===w&&(s=o),u==E?(i.warning('attribute "'+s+'" missed quot(")!!'),n.add(o,s.replace(/&#?\w+;/g,r),e)):(i.warning('attribute "'+s+'" missed value!! "'+s+'" instead!!'),n.add(s,s,e));break;case T:throw new Error("attribute value missed!!")}return a;case"":c=" ";default:if(" ">=c)switch(u){case y:n.setTagName(t.slice(e,a)),u=S;break;case _:o=t.slice(e,a),u=w;break;case E:var s=t.slice(e,a).replace(/&#?\w+;/g,r);i.warning('attribute "'+s+'" missed quot(")!!'),n.add(o,s,e);case N:u=S}else switch(u){case w:i.warning('attribute "'+o+'" missed value!! "'+o+'" instead!!'),n.add(o,o,e),e=a,u=_;break;case N:i.warning('attribute space is required"'+o+'"!!');case S:u=_,e=a;break;case T:u=E,e=a;break;case x:throw new Error("elements closed character '/' and '>' must be connected to")}}a++}}function a(t,e,n){for(var r=t.tagName,i=null,o=n[n.length-1].currentNSMap,s=t.length;s--;){var a=t[s],u=a.qName,c=a.value,f=u.indexOf(":");if(f>0)var h=a.prefix=u.slice(0,f),d=u.slice(f+1),p="xmlns"===h&&d;else d=u,h=null,p="xmlns"===u&&"";a.localName=d,p!==!1&&(null==i&&(i={},l(o,o={})),o[p]=i[p]=c,a.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(p,c))}for(var s=t.length;s--;){a=t[s];var h=a.prefix;h&&("xml"===h&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==h&&(a.uri=o[h]))}var f=r.indexOf(":");f>0?(h=t.prefix=r.slice(0,f),d=t.localName=r.slice(f+1)):(h=null,d=t.localName=r);var m=t.uri=o[h||""];if(e.startElement(m,d,r,t),t.closed){if(e.endElement(m,d,r),i)for(h in i)e.endPrefixMapping(h)}else t.currentNSMap=o,t.localNSMap=i,n.push(t)}function u(t,e,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=t.indexOf("</"+n+">",e),s=t.substring(e+1,o);if(/[&<]/.test(s))return/^script$/i.test(n)?(i.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,r),i.characters(s,0,s.length),o)}return e+1}function c(t,e,n,r){var i=r[n];return null==i&&(i=r[n]=t.lastIndexOf("</"+n+">")),e>i}function l(t,e){for(var n in t)e[n]=t[n]}function f(t,e,n,r){var i=t.charAt(e+2);switch(i){case"-":if("-"===t.charAt(e+3)){var o=t.indexOf("-->",e+4);return o>e?(n.comment(t,e+4,o-e-4),o+3):(r.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==t.substr(e+3,6)){var o=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,o-e-9),n.endCDATA(),o+3}var s=m(t,e),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var u=s[1][0],c=a>3&&/^public$/i.test(s[2][0])&&s[3][0],l=a>4&&s[4][0],f=s[a-1];return n.startDTD(u,c&&c.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),f.index+f[0].length}}return-1}function h(t,e,n){var r=t.indexOf("?>",e);if(r){var i=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){{i[0].length}return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function d(){}function p(t,e){return t.__proto__=e,t}function m(t,e){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);n=i.exec(t);)if(r.push(n),n[1])return r}var v=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=new RegExp("[\\-\\.0-9"+v.source.slice(1,-1)+"·̀-ͯ\\ux203F-⁀]"),b=new RegExp("^"+v.source+g.source+"*(?::"+v.source+g.source+"*)?$"),y=0,_=1,w=2,T=3,E=4,N=5,S=6,x=7;r.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),l(e,e={}),i(t,e,n,r,this.errorHandler),r.endDocument()}},d.prototype={setTagName:function(t){if(!b.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,n){if(!b.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getOffset:function(t){return this[t].offset},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},p({},p.prototype)instanceof p||(p=function(t,e){function n(){}n.prototype=e,n=new n;for(e in t)n[e]=t[e];return n}),"function"==typeof t&&(n.XMLReader=r)},{}],5:[function(t,e){(function(t,n){!function(t,n){var r=n();"object"==typeof e&&e&&(e.exports=r),"function"==typeof define&&define.amd&&define(n),t.PromisePolyfill=r,t.Promise||(t.Promise=r)}("undefined"!=typeof n?n:this,function(){function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function r(t){if(!(this instanceof r))return r._log("Promises should always be created with new Promise(). This will throw an error in the future","error"),new r(t);var e=new r.Resolver(this);this._resolver=e;try{t(function(t){e.resolve(t)},function(t){e.reject(t)})}catch(n){e.reject(n)}}function i(t){this._callbacks=[],this._errbacks=[],this.promise=t,this._status="pending",this._result=null}return n(r.prototype,{then:function(t,e){var n,i,o=new this.constructor(function(t,e){n=t,i=e});return this._resolver._addCallbacks("function"==typeof t?r._makeCallback(o,n,i,t):n,"function"==typeof e?r._makeCallback(o,n,i,e):i),o},"catch":function(t){return this.then(void 0,t)}}),r._makeCallback=function(t,e,n,r){return function(i){var o;try{o=r(i)}catch(s){return void n(s)}return o===t?void n(new TypeError("Cannot resolve a promise with itself")):void e(o)}},r._log=function(t,e){},r.resolve=function(t){return t&&t.constructor===this?t:new this(function(e){e(t)})},r.reject=function(t){var e=new this(function(){});return e._resolver._result=t,e._resolver._status="rejected",e},r.all=function(t){var n=this;return new n(function(r,i){function o(t){return function(e){c[t]=e,s--,s||r(c)}}if(!e(t))return void i(new TypeError("Promise.all expects an array of values or promises"));var s=t.length,a=0,u=t.length,c=[];if(1>u)return r(c);for(;u>a;a++)n.resolve(t[a]).then(o(a),i)})},r.race=function(t){var n=this;return new n(function(r,i){if(!e(t))return void i(new TypeError("Promise.race expects an array of values or promises"));for(var o=0,s=t.length;s>o;o++)n.resolve(t[o]).then(r,i)})},r.async="undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof t&&t.nextTick?t.nextTick:function(t){setTimeout(t,0)},n(i.prototype,{fulfill:function(t){var e=this._status;("pending"===e||"accepted"===e)&&(this._result=t,this._status="fulfilled"),"fulfilled"===this._status&&(this._notify(this._callbacks,this._result),this._callbacks=[],this._errbacks=null)},reject:function(t){var e=this._status;("pending"===e||"accepted"===e)&&(this._result=t,this._status="rejected",this._errbacks.length||r._log("Promise rejected but no error handlers were registered to it","info")),"rejected"===this._status&&(this._notify(this._errbacks,this._result),this._callbacks=null,this._errbacks=[])},resolve:function(t){"pending"===this._status&&(this._status="accepted",this._value=t,(this._callbacks&&this._callbacks.length||this._errbacks&&this._errbacks.length)&&this._unwrap(this._value))},_unwrap:function(t){var e,n=this,r=!1;if(!t||"object"!=typeof t&&"function"!=typeof t)return void n.fulfill(t);try{e=t.then,"function"==typeof e?e.call(t,function(t){r||(r=!0,n._unwrap(t))},function(t){r||(r=!0,n.reject(t))}):n.fulfill(t)}catch(i){r||n.reject(i)}},_addCallbacks:function(t,e){var n=this._callbacks,r=this._errbacks;switch(n&&n.push(t),r&&r.push(e),this._status){case"accepted":this._unwrap(this._value);break;case"fulfilled":this.fulfill(this._result);break;case"rejected":this.reject(this._result)}},_notify:function(t,e){t.length&&r.async(function(){var n,r;for(n=0,r=t.length;r>n;++n)t[n](e)})}}),r.Resolver=i,r})}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:26}],6:[function(t,e){"use strict";var n=t("event"),r=t("utils").async,i="outside",o=/^#\S+$/,s=/#(\S+)/,a=/^.+outside$/,u=16,c={};e.exports=function(t){var e,l,f,h,d,p,m,v,g,b,y,_=t.document,w=_.addEventListener,T=!w&&_.attachEvent;return t._ITSAmodules||Object.defineProperty(t,"_ITSAmodules",{configurable:!1,enumerable:!1,writable:!1,value:{}}),t._ITSAmodules.EventDom?n:(t.Element&&function(t){t.matchesSelector=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(t){for(var e=this,n=(e.parentNode||_).querySelectorAll(t),r=-1;n[++r]&&n[r]!==e;);return!!n[r]}}(t.Element.prototype),t.Node&&!t.Node.prototype.contains&&function(t){t.contains=function(t){var e=this.compareDocumentPosition(t);return!!(0===e||e&u)}}(t.Node.prototype),e=function(){n._focussedNode=_.activeElement,n.after(["keyup","mouseup"],function(t){var e=_.activeElement,r=n._focussedNode;r!==e&&(n._focussedNode=e,n.emit(r,"UI:blur",t),n.emit(e,"UI:focus",t))})},y=function(t,e){n._sellist.some(function(n){return n(t,e)})},l=function(t,e){var n,r,i=a.test(t),u=e.f;return u&&"function"!=typeof u?(n=u.match(s),n?e.nId=n[1]:e.n=_,r=o.test(u),e.f=function(t){for(var n=t.target,o=!1;n.matchesSelector&&!o;)o=r?n.id===u.substr(1):n.matchesSelector(u),o&&!i&&(e.t=n),n=n.parentNode;return i?!o:o},!0):(e.n||(e.n=_),!0)},h=function(t){t.forEach(function(t){t.nId&&(t.n=_.getElementById(t.nId))})},f=function(t){var e,o,s,a,u,c,l,f,h,p=n._subs,m=t.type,v="UI:"+m;o=p[v],s=p["*:"+m],a=p["UI:*"],u=p["*:*"],l=b(t,!0,o,s,a,u),e=n._emit(t.target,v,t,l,[],d),c=p[v+i],h=p["*:"+m+i],l=b(t,!0,c,h),f=n._emit(t.target,v+i,t,l,[],d),e.status.halted&&t.stopPropagation&&t.stopPropagation(),(e.status.halted||e.status.defaultPrevented)&&t.preventDefault&&t.preventDefault(),e.status.ok&&(l=b(t,!1,o,s,a,u),l.length>0&&r(n._emit.bind(n,t.target,v,e,[],l,d,!0),!1),l=b(t,!1,c,h),l.length>0&&r(n._emit.bind(n,t.target,v+i,f,[],l,d,!0),!1))},b=function(t,e,n,r,i,o){var s=[],a=e?"b":"a",u=function(t){t&&t[a]&&(s=s.concat(t[a]))};return u(n),u(r),u(i),u(o),s.length>0&&(s=s.filter(function(e){return!e.f||e.f.call(e.o,t)}),s.length>0&&(h(s),s.sort(m))),s},d=function(t,e){var n,r,i=t.t||t.n;return r=e.status.immediatePropagationStopped,!r||r!==i&&r.contains(i)?(n=e.status.propagationStopped,n&&n!==i&&!n.contains(i)?!0:(e.currentTarget=t.n,t.t?(e.sourceTarget||(e.sourceTarget=e.target),e.target=t.t):e.sourceTarget&&(e.target=e.sourceTarget),!1)):!0},p=function(t,e){var n=t.split(":"),r=n[1],o=a.test(r);if(o&&(r=r.substring(0,r.length-7)),"mouseenter"!==r&&"mouseleave"!==r){if(y(t,e),c[r]||"*"===r)return void(o&&(c[r+i]=!0));w?_.addEventListener(r,f,!0):T&&_.attachEvent("on"+r,f),c[r]=!0,o&&(c[r+i]=!0)}},v=function(t,e){return(e.t||e.n).contains(t.t||t.n)?-1:1},g=function(t,e){return(t.t||t.n).contains(e.t||e.n)?1:-1},[1,2].sort(function(t){m||(m=2===t?g:v)}),n.notify("UI:*",p,n)._setEventObjProperty("stopPropagation",function(){this.status.ok||(this.status.propagationStopped=this.target)})._setEventObjProperty("stopImmediatePropagation",function(){this.status.ok||(this.status.immediatePropagationStopped=this.target)}),n._sellist=[l],n._domCallback=function(t){f(t)},T&&e(),t._ITSAmodules.EventDom=n,n)}},{event:10,utils:23}],7:[function(t,e){"use strict";var n=t("hammerjs");e.exports=function(e){var r,i,o,s=t("event-dom")(e),a=e.document,u=s.hammertime=new n(a.body);return e._ITSAmodules.EventMobile?s:(s.Hammer=n,i=new n.Tap({event:"doubletap",taps:2}),o=new n.Tap({event:"tripletap",taps:3}),u.add([i,o]),r=u.get("tap"),i.recognizeWith(r),o.recognizeWith([i,r]),n.Manager.prototype.emit=function(t,e){"hammer.input"!==t&&(e._isHammer=!0,e.type=t,s._domCallback(e))},n.Manager.prototype.set=function(t){return function(e){delete e.domEvents,t.call(this,e)}}(n.Manager.prototype.set),e._ITSAmodules.EventMobile=s,s)}},{"event-dom":6,hammerjs:1}],8:[function(t){"use strict";var e=/^(\w|-)+$/,n=t("./event.js");n.Emitter=function(t){var r,i=function(e){return t+":"+e};if(e.test(t))return r={defineEvent:function(t){return n.defineEvent(i(t))},emit:function(t,e){return n.emit(this,t,e)},undefAllEvents:function(){n.undefEvent(t)},undefEvent:function(t){n.undefEvent(i(t))}},n.defineEmitter(r,t),r}},{"./event.js":10}],9:[function(t){"use strict";var e=t("./event.js");e.Listener={after:function(t,n,r,i){return e.after(t,n,this,r,i)},before:function(t,n,r,i){return e.before(t,n,this,r,i)},detach:function(t){e.detach(this,t)},detachAll:function(){e.detachAll(this)},onceAfter:function(t,n,r,i){return e.onceAfter(t,n,this,r,i)},onceBefore:function(t,n,r,i){return e.onceBefore(t,n,this,r,i)}}},{"./event.js":10}],10:[function(t,e){(function(n){t("extend-js/lib/function.js"),t("extend-js/lib/object.js"),function(t,n){"use strict";t._ITSAmodules||Object.defineProperty(t,"_ITSAmodules",{configurable:!1,enumerable:!1,writable:!1,value:{}}),t._ITSAmodules.Event||(t._ITSAmodules.Event=n()),e.exports=t._ITSAmodules.Event}("undefined"!=typeof n?n:this,function(){"use strict";var t,e=/^((?:\w|-)+):((?:\w|-)+)$/,n=/^(?:((?:(?:\w|-)+)|\*):)?((?:(?:\w|-)+)|\*)$/,r=/:((?:\w|-)+)$/,i=function(t,e,n){Object.defineProperty(t,e,{configurable:!1,enumerable:!1,writable:!1,value:n})};return t={after:function(t,e,n,r,i){return this._addMultiSubs(!1,t,e,n,r,i)},before:function(t,e,n,r,i){return this._addMultiSubs(!0,t,e,n,r,i)},defineEmitter:function(t,e){Object.defineProperty(t,"_emitterName",{configurable:!1,enumerable:!0,writable:!1,value:e})},defineEvent:function(t){var n,r,i,o=this,s=o._ce;if("string"==typeof t&&(n=t.match(e)))return i={preventable:!0,renderPreventable:!0},r=s[t],r||(s[t]=i),{defaultFn:function(t){return i.defaultFn=t,this},preventedFn:function(t){return i.preventedFn=t,this},unHaltable:function(){return i.unHaltable=!0,this},unSilencable:function(){return i.unSilencable=!0,this},unPreventable:function(){return i.unPreventable=!0,this},unRenderPreventable:function(){return i.unRenderPreventable=!0,this},noRender:function(){return i.noRender=!0,this},forceAssign:function(){return s[t]=i,this}}},detach:function(t,e){"string"==typeof t?this._removeSubscribers(void 0,t):this._removeSubscribers(t,e)},detachAll:function(t){var e=this;t?e._removeSubscribers(t,"*:*"):e._subs.each(function(t,n){delete e._subs[n]})},emit:function(t,e,n){var r=this;return"string"==typeof t&&(n=e,e=t,t=r),r._emit(t,e,n)},finalize:function(t){var e=this._final;return e.push(t),{detach:function(){var n=e.indexOf(t);-1===n||e.splice(n,1)}}},notify:function(t,e,n){return this._notifiers[t]={cb:e,o:n},this},onceAfter:function(t,e,n,r,i){var o,s,a=this;return s=function(t){o._detached||e.call(this,t),o._detached=!0,setTimeout(function(){o.detach()},0)},o=a._addMultiSubs(!1,t,s,n,r,i)},onceBefore:function(t,e,n,r,i){var o,s,a=this;return s=function(t){o._detached||e.call(this,t),o._detached=!0,setTimeout(function(){o.detach()},0)},o=a._addMultiSubs(!0,t,s,n,r,i)},undefAllEvents:function(t){var e,n=this;t?(e=new RegExp("^"+t+":"),n._ce.each(function(t,r){r.match(e)&&delete n._ce[r]})):n._ce.each(function(t,e){delete n._ce[e]})},undefEvent:function(t){delete this._ce[t]},unNotify:function(t){delete this._notifiers[t]},_addMultiSubs:function(t,e,n,r,i,o){var s=this;return"string"==typeof r||"function"==typeof r?(o=i,i=r,r=null):"boolean"==typeof r&&(o=r,i=null,r=null),("boolean"==typeof i||void 0===typeof i||null===typeof i)&&(o=i,i=null),Array.isArray(e)?(e.forEach(function(e){s._addSubscriber(r,t,e,n,i,o)}),{detach:function(){e.each(function(e){s._removeSubscriber(r,t,e,n)})}}):s._addSubscriber(r,t,e,n,i,o)},_addSubscriber:function(t,e,i,o,s,a){var u,c,l,f,h=this,d=h._subs,p=i.match(n);if(p)return p[1]||(i="UI:"+i),d[i]||(d[i]={}),e?d[i].b||(d[i].b=[]):d[i].a||(d[i].a=[]),u=d[i][e?"b":"a"],c={o:t||h,cb:o,f:s},"*"!==p[1]&&"*"!==p[2]&&(l=h._notifiers[i],l&&(l.cb.call(l.o,i,c),delete h._notifiers[i]),f=i.replace(r,":*"),f!==i&&(l=h._notifiers[f])&&l.cb.call(l.o,i,c)),a?u.unshift(c):u.push(c),{detach:function(){h._removeSubscriber(t,e,i,o)}}},_emit:function(t,n,r,i,o,s,a){var u,c,l,f,h,d,p,m,v,g,b=this,y=b._ce,_=b._subs;if(-1!==n.indexOf(":")||(n=t._emitterName+":"+n),c=n.match(e)){if(l=c[1],f=c[2],u=y[n],h=_[n],d=_["*:"+f],p=_[l+":*"],m=_["*:*"],a)v=r;else{if(v=Object.create(b._defaultEventObj),v.target=t,v.type=f,v.emitter=l,v.status={},u&&(v._unPreventable=u.unPreventable,v._unHaltable=u.unHaltable,v._unRenderPreventable=u.unRenderPreventable,u.unSilencable&&(v.status.unSilencable=!0)),r)for(var w in r)v[w]||(v[w]=r[w]);v.status.unSilencable&&v.silent&&(v.silent=!1)}return i?b._invokeSubs(v,!1,!0,s,{b:i}):(g=b._invokeSubs.bind(b,v,!0,!0,!1),[h,p,d,m].forEach(g)),v.status.ok=!v.status.halted&&!v.status.defaultPrevented,v.sourceTarget&&(v.target=v.sourceTarget),u&&!v.status.halted&&(v.returnValue=v.status.defaultPrevented?u.preventedFn&&(v.status.preventedFn=!0)&&u.preventedFn.call(v.target,v):u.defaultFn&&(v.status.defaultFn=!0)&&u.defaultFn.call(v.target,v)),v.status.ok&&(o?b._invokeSubs(v,!1,!1,s,{a:o}):(g=b._invokeSubs.bind(b,v,!0,!1,!1),[h,p,d,m].forEach(g)),v.silent||(v.sourceTarget&&(v.target=v.sourceTarget),b._final.some(function(t){return!v.silent&&t(v),v.status.unSilencable&&v.silent&&(v.silent=!1),v.silent}))),v}},_invokeSubs:function(t,e,n,r,i){var o;!i||t.status.halted||t.silent||(o=n?i.b:i.a,o&&o.some(function(i){return r&&r(i,t)?!0:(e&&i.f&&!i.f.call(i.o,t)||i.cb.call(i.o,t),t.status.unSilencable&&t.silent&&(t.silent=!1),t.silent||n&&t.status.halted)}))},_removeSubscriber:function(t,e,n,r){var i,o,s,a,u=this,c=u._subs[n],l=c&&c[e?"b":"a"];if(l)for(i=0;i<l.length;++i)o=l[i],o.o!==(t||u)||r&&o.cb!==r||l.splice(i--,1);c&&(s=c.b&&c.b.length>0,a=c.a&&c.a.length>0,s||a||delete u._subs[n])},_removeSubscribers:function(t,e){var r,i,o=this,s=e.match(n);s&&(r=s[1]||"UI",i=s[2],"*"!==r&&"*"!==i?(o._removeSubscriber(t,!0,e),o._removeSubscriber(t,!1,e)):o._subs.each(function(e,s){var a=s.match(n),u="*"===r||r===a[1],c="*"===i||i===a[2];u&&c&&(o._removeSubscriber(t,!0,s),o._removeSubscriber(t,!1,s))}))},_setEventObjProperty:function(t,e){return i(this._defaultEventObj,t,e),this}},Object.defineProperty(t,"_ce",{configurable:!1,enumerable:!1,writable:!1,value:{}}),i(t,"_subs",{}),i(t,"_final",[]),i(t,"_defaultEventObj",{}),i(t,"_notifiers",{}),t._setEventObjProperty("halt",function(t){this.status.ok||this._unHaltable||(this.status.halted=t||!0)})._setEventObjProperty("preventDefault",function(t){this.status.ok||this._unPreventable||(this.status.defaultPrevented=t||!0)})._setEventObjProperty("preventRender",function(t){this.status.ok||this._unRenderPreventable||(this.status.renderPrevented=t||!0)}),t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"extend-js/lib/function.js":12,"extend-js/lib/object.js":13}],11:[function(t){t("./lib/function.js"),t("./lib/object.js"),t("./lib/promise.js")},{"./lib/function.js":12,"./lib/object.js":13,"./lib/promise.js":14}],12:[function(){"use strict";var t=function(t,e,n,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})},e=function(e,n,r){for(var i,o=Object.keys(n),s=o.length,a=-1;++a<s;)i=o[a],t(e,i,n[i],r)},n=function(){};e(Function.prototype,{mergePrototypes:function(t,e){for(var n,r=this.prototype,i=Object.keys(t||{}),o=i.length,s=-1;++s<o;)n=i[s],!e&&n in r||(r[n]=t[n]);return this},subClass:function(t,e){1===arguments.length&&"function"!=typeof t&&(e=t,t=null),t=t||function(t){return function(){t.apply(this,arguments)}}(this);var n=this.prototype,r=Object.create(n);return t.prototype=r,r.constructor=t,t.$super=n,t.$orig={},t.mergePrototypes(e,!0),t},patch:function(t){for(var e,r=this.prototype,i=Object.keys(t||{}),o=i.length,s=-1;++s<o;)e=i[s],r[e]=function(r){return function(){var i=Array.prototype.slice.call(arguments,0);return i.unshift(r||n),t[e].apply(this,i)}}(r[e]);return this},rbind:function(t){var e,n=this,r=Array.prototype.slice;return t||(t=this),arguments.length>1&&(e=r.call(arguments,1)),e?function(){return n.apply(t,r.call(arguments,0).concat(e))}:function(){return n.apply(t,arguments)}}}),t(Object.prototype,"createClass",function(){return Function.prototype.subClass.apply(this,arguments)})},{}],13:[function(){"use strict";var t={undefined:!0,number:!0,"boolean":!0,string:!0,"[object Function]":!0,"[object RegExp]":!0,"[object Array]":!0,"[object Date]":!0,"[object Error]":!0,"[object Promise]":!0},e=function(t,e,n,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})},n=function(t,n,r){for(var i,o=Object.keys(n),s=o.length,a=-1;++a<s;)i=o[a],e(t,i,n[i],r)},r=function(t,e,n){for(var r,i=Object.keys(t),o=i.length,s=-1;++s<o;)r=i[s],e.call(n,t[r],r,t);return t};n(Object.prototype,{each:function(t,e){if(e)return r(this,t,e);for(var n,i=Object.keys(this),o=i.length,s=-1;++s<o;)n=i[s],t(this[n],n,this);return this},some:function(t,e){for(var n,r=Object.keys(this),i=r.length,o=-1;++o<i;)if(n=r[o],t.call(e,this[n],n,this))return!0;return!1},map:function(t,e){for(var n,r,i=Object.keys(this),o=i.length,s=-1,a={};++s<o;)r=i[s],n=t.call(e,this[r],r,this),void 0!==n&&(a[r]=n);return a},keys:function(){return Object.keys(this)},values:function(){for(var t=Object.keys(this),e=-1,n=t.length,r=[];++e<n;)r.push(this[t[e]]);return r},isEmpty:function(){for(var t in this)if(this.hasOwnProperty(t))return!1;return!0},shallowClone:function(){for(var t,e={},n=Object.keys(this),r=n.length,i=-1;++i<r;)t=n[i],e[t]=this[t];return e},merge:function(t,e){var n=this;return t&&t.each&&t.each(function(r,i){!e&&i in n||(n[i]=t[i])}),n}}),Object.isObject=function(e){return!(t[typeof e]||t[{}.toString.call(e)]||!e)},Object.merge=function(){var t={};return Array.prototype.forEach.call(arguments,function(e){e&&t.merge(e)}),t}},{}],14:[function(t){"use strict";t("ypromise");var e=" expects an array of function-references",n="Promise.chain";!function(t){t.finally=function(t){this.then(t,t)},t.thenFulfill=function(t){return this.then(function(t){return t},function(t){return t}).then(t)}}(Promise.prototype),Promise.finishAll=function(t){return new Promise(function(e){function n(t,n){return function(r){n?s[t]=r:a[t]=r,i--,i||e({fulfilled:s,rejected:a})}}Array.isArray(t)||(t=[t]);var r,i=t.length,o=t.length,s=[],a=[];if(1>o)return e({fulfilled:s,rejected:a});for(s.length=o,a.length=o,r=0;o>r;r++)Promise.resolve(t[r]).then(n(r,!0),n(r,!1))})},Promise.chainFns=function(t,r){var i,o,s,a=0;return Array.isArray(t)||(t=[t]),o=t.length,i=function(){var i,o=t[a];return"function"!=typeof o?Promise.reject(new TypeError(n+e)):(i=Promise.resolve(o.apply(null,arguments)),r?i.thenFulfill():i)},(s=function(){return i.apply(null,arguments).then(++a<o?s:void 0)})()},Promise.manage=function(t){var e,n,r,i;return r=new Promise(function(t,r){e=t,n=r}),r.fulfill=function(t){i=!0,e(t)},r.reject=function(t){i=!0,n(t)},r.callback=function(){i||t&&t.apply(void 0,arguments)},r}},{ypromise:5}],15:[function(t,e){"use strict";var n,r=t("xmldom").DOMParser,i="Unknown XDR-error",o=new RegExp("^((([a-z][a-z0-9-.]*)://)?(([^/?#:]+)(:(\\d+))?)?)?(/?[a-z0-9-._~%!$&'()*+,;=@]+(/[a-z0-9-._~%!$&'()*+,;=:@]+)*/?|/)?([#?](.*)|$)","i"),s={POST:1,PUT:1},a={GET:1,POST:1};e.exports=function(e){var u=t("./io.js")(e),c=function(t){var r;return"fake"===e.navigator.userAgent?!1:(r=t.match(o)[1],r&&r.toLowerCase(),n||(n=e.location.href.match(o)[1].toLowerCase()),r&&n!==r)},l=function(t,n,r){var i;return n._isXHR2||(i=c(r.url),i&&!n._isXDR&&"undefined"!=typeof e.XDomainRequest&&(t=new e.XDomainRequest,n._isXDR=!0),n._CORS_IE=i&&n._isXDR),n._CORS_IE&&!a[r.method]&&(r.method=s[r.method]?"POST":"GET"),t},f=function(t,e,n){t._isXDR&&(t.onload||(t.onload=function(){var i=t.responseText,o=n&&"text/xml"===n.Accept;clearTimeout(t._timer);var s={_contenttype:t.contentType,responseText:i,responseXML:o?(new r).parseFromString(i):null,readyState:4,status:200,getAllResponseHeaders:function(){return"Content-Type: "+this._contenttype},getResponseHeader:function(t){return"Content-Type"===t?this._contenttype:void 0}};e.fulfill(s)}),t.onerror||(t.onerror=function(){clearTimeout(t._timer),e.reject(i)}))};return u._xhrList.push(l),u._xhrInitList.push(f),u}},{"./io.js":19,xmldom:2}],16:[function(t,e){"use strict";var n="Unknown XDR-error";e.exports=function(e){var r=t("./io.js")(e),i=function(t,n,r){return"function"==typeof r.streamback&&(n._isXHR2||n._isXDR||"undefined"!=typeof e.XDomainRequest&&(t=new e.XDomainRequest,n._isXDR=!0),n._isStream=n._isXHR2||n._isXDR),t},o=function(t,e){t._isStream&&(t._progressPos=0,t.onprogress=function(){e.callback(t.responseText.substr(t._progressPos)),t._progressPos=t.responseText.length})},s=function(t,e){t._isXDR&&(t.onload=function(){clearTimeout(t._timer),e.fulfill(t)},t.onerror=function(){clearTimeout(t._timer),e.reject(n)})},a=function(t){t._isStream&&!t._isXDR&&t.setRequestHeader("X-Stream","true")};return r._xhrList.push(i),r._xhrInitList.push(s),r._xhrInitList.push(o),r._xhrInitList.push(a),r}},{"./io.js":19}],17:[function(t,e){"use strict";var n=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z/,r=function(t,e){return n.test(e)?new Date(e):e},i="application/json",o="Content-Type",s="delete";e.exports=function(e){var n=t("./io.js")(e);return n.get=function(t,e){var n,r;return e||(e={}),e.url=t,e.method="GET",delete e.data,n=this.request(e),r=n.then(function(t){return t.responseText}),r.abort=n.abort,r},n.read=function(t,e,n){var i,o;return n||(n={}),n.headers||(n.headers={}),n.url=t,n.method="GET",n.data=e,n.headers.Accept="application/json",delete n.responseType,i=this.request(n),o=i.then(function(t){return JSON.parse(t.responseText,n.parseJSONDate?r:null)}),o.abort=i.abort,o},["update","insert","send"].forEach(function(t){n[t]=function(e,n,s){var a,u,c,l,f,h=this;return s||(s={}),a=s.allfields,u="boolean"==typeof a?a:"insert"!==t,c=s.parseJSONDate,s.url=e,s.method=u?"PUT":"POST",s.data=n,s.headers||(s.headers={}),s.headers[o]=i,c&&(s.headers["X-JSONDate"]="true"),"send"!==t&&(s.headers.Accept="application/json",s.headers["X-Action"]=t,delete s.responseType),l=h.request(s),f=l.then(function(e){return"send"===t?e.responseText:JSON.parse(e.responseText,c?r:null)}),f.abort=l.abort,f}}),n[s]=function(t,e,n){var i,o;return n||(n={}),n.url=t,n.method=s,n.data=e,delete n.responseType,i=this.request(n),o=i.then(function(t){var e=t.responseText;try{e=JSON.parse(e,n.parseJSONDate?r:null)}catch(i){}return e}),o.abort=i.abort,o},n}},{"./io.js":19}],18:[function(t,e){"use strict";t("extend-js");e.exports=function(e){var n=t("./io.js")(e);return n.readXML=function(t,e,n){var r,i,o={headers:{Accept:"text/xml"},method:"GET",url:t,data:e};return n&&o.merge(n),r=this.request(o),i=r.then(function(t){var e=t.getResponseHeader("Content-Type")||t.getResponseHeader("content-type");
if(/^text\/xml/.test(e))return t.responseXML;throw new Error("recieved Content-Type is no XML")}),i.abort=r.abort,i},n}},{"./io.js":19,"extend-js":11}],19:[function(t,e){(function(n){"use strict";t("ypromise"),t("extend-js");var r="GET",i=3e5,o={POST:1,PUT:1},s="Content-Type",a="application/json",u="application/x-www-form-urlencoded; charset=UTF-8",c="no valid xhr transport-mechanism available",l="Request-timeout",f="Unknown response-error",h="XHR Error",d="Request aborted",p="No valid xhr found on this browser";e.exports=function(t){var e="undefined"!=typeof n?n:this;if(e._ITSAmodules||Object.defineProperty(e,"_ITSAmodules",{configurable:!1,enumerable:!1,writable:!1,value:{}}),e._ITSAmodules.IO)return e._ITSAmodules.IO;var m,v=encodeURIComponent;return m={config:{},_xhrList:[],_initXHR:function(t,e,n){var i=this,u=e.url,l=e.method||r,f=e.headers||{},h=!e.sync,p=e.data,m=n.reject;return t?(l=l.toUpperCase(),o[l]?(u=u.split("?"),u=u[0]):p&&(u+=(u.indexOf("?")>0?"&":"?")+i._toQueryString(p)),t.open(l,u,h),e.withCredentials&&(t.withCredentials=!0),i._xhrInitList.each(function(e){e(t,n,f,l)}),t.send(o[l]&&p?f[s]===a||t._isXDR?JSON.stringify(p):i._toQueryString(p):null),n.abort=function(){m(new Error(d)),t._aborted=!0,t.abort()},void(h||t.onreadystatechange())):void m(new Error(c))},_setHeaders:function(t,e,n,r){if(!t._isXDR){var i;"POST"!==r&&"PUT"!==r&&(n["If-Modified-Since"]="Wed, 15 Nov 1995 01:00:00 GMT",delete n[s]);for(i in n)t.setRequestHeader(i,n[i]);"POST"!==r&&"PUT"!==r||n&&s in n||t.setRequestHeader(s,u)}},_setReadyHandle:function(t,e){t.onreadystatechange=function(){t._aborted||4!==t.readyState||(clearTimeout(t._timer),t.status>=200&&t.status<300?e.fulfill(t):e.reject(new Error(t.statusText||f+" "+t.status)))},t.onerror=function(){clearTimeout(t._timer),e.reject(new Error(h))}},_toQueryString:function(t){var e,n,r=[];for(e in t)n=t[e],e=v(e),r.push(null===n?e:e+"="+v(n));return r.join("&")},request:function(e){var n,r,o=this,s={};return e||(e={}),n=new t.XMLHttpRequest,s._isXHR2="withCredentials"in n||"fake"===t.navigator.userAgent,o._xhrList.each(function(t){n=t(n,s,e)}),n?(n.merge(s),r=Promise.manage(e.streamback),Object.defineProperty(n,"_timer",{configurable:!1,enumerable:!1,writable:!1,value:setTimeout(function(){r.reject(new Error(l)),n._aborted=!0,n.abort()},e.timeout||o.config.reqTimeout||i)}),o._initXHR(n,e,r),r):Promise.reject(p)}},m._xhrInitList=[m._setReadyHandle,m._setHeaders],e._ITSAmodules.IO=m,m}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"extend-js":11,ypromise:5}],20:[function(){"use strict";Array.isArray||(Array.isArray=function(t){return t&&"[object Array]"===Object.prototype.toString.call(t)})},{}],21:[function(){"use strict";try{Object.defineProperty({},"a",{value:0})}catch(t){!function(){var t=Object.defineProperty;Object.defineProperty=function(e,n,r){delete r.configurable,delete r.enumerable,delete r.writable;try{return t(e,n,r)}catch(i){e[n]=r.value}}}()}Object.defineProperties||(Object.defineProperties=function(t,e){var n;for(n in e)Object.defineProperty(t,n,e[n]);return t})},{}],22:[function(t){t("./lib/array.isarray.js"),t("./lib/object.defineproperty.js")},{"./lib/array.isarray.js":20,"./lib/object.defineproperty.js":21}],23:[function(t,e){e.exports={idGenerator:t("./lib/idgenerator.js").idGenerator,later:t("./lib/timers.js").later,async:t("./lib/timers.js").async}},{"./lib/idgenerator.js":24,"./lib/timers.js":25}],24:[function(t,e){"use strict";var n="__undefined__",r={};e.exports.idGenerator=function(t,e){return"number"==typeof t&&(e=t)&&(t=null),t||(t=n),r[t]?e&&r[t]<e&&(r[t]=e):r[t]=e||1,t===n?r[t]++:t+"-"+r[t]++}},{}],25:[function(t,e){(function(t){"use strict";var n="undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof t&&t.nextTick?t.nextTick:function(t){setTimeout(t,0)};e.exports.async=function(t,e){var r,i=this;return e="boolean"==typeof e?e:!0,"function"==typeof t&&n(function(){r||(t(),e&&i._afterAsyncFn&&i._afterAsyncFn())}),{cancel:function(){r=!0}}},e.exports.later=function(t,e,n,r){var i=this,o=!1;if(r="boolean"==typeof r?r:!0,!e)return i.async(t);var s,a,u=n,c="number"==typeof u,l=function(){o||(t(),c&&(s=setInterval(f,u)),r&&i._afterAsyncFn&&i._afterAsyncFn())},f=function(){o||(t(),r&&i._afterAsyncFn&&i._afterAsyncFn())};return"function"==typeof t&&(a=u&&!c?setInterval(f,e):setTimeout(l,e)),{cancel:function(){o=!0,u?clearInterval(a):clearTimeout(a),s&&clearInterval(s)}}}}).call(this,t("_process"))},{_process:26}],26:[function(t,e){function n(){}var r=e.exports={};r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=n,r.addListener=n,r.once=n,r.off=n,r.removeListener=n,r.removeAllListeners=n,r.emit=n,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],itsa:[function(t,e){(function(n){!function(n){"use strict";var r=function(t){var e;for(e in t)r._config[e]=t[e];return r};r._config={debug:!0,base:"/components"},t("polyfill"),t("ypromise"),t("extend-js");var i="fake"===n.navigator.userAgent,o=i?t("event"):t("event-mobile")(n),s={reqTimeout:3e3,debug:!0,base:"/build"},a="timers:asyncfunc";t("event/event-emitter.js"),t("event/event-listener.js"),r.merge(t("utils")),r.IO=t("io/io-transfer.js")(n),r.IO.config.merge(s),t("io/io-cors-ie9.js")(n),t("io/io-stream.js")(n),t("io/io-xml.js")(n),r.Event=o,r.Event.defineEvent(a).unHaltable().unPreventable().unRenderPreventable().unSilencable(),r._afterAsyncFn=function(){r.Event.emit(a)},e.exports=r}(n.window||t("node-win"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{event:10,"event-mobile":7,"event/event-emitter.js":8,"event/event-listener.js":9,"extend-js":11,"io/io-cors-ie9.js":15,"io/io-stream.js":16,"io/io-transfer.js":17,"io/io-xml.js":18,"node-win":void 0,polyfill:22,utils:23,ypromise:5}]},{},[]);